(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{215:function(t,a,s){"use strict";s.r(a);var e=s(28),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"用户端（前端-客户端）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户端（前端-客户端）"}},[t._v("#")]),t._v(" 用户端（前端/客户端）")]),t._v(" "),s("h2",{attrs:{id:"通用返回结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通用返回结果"}},[t._v("#")]),t._v(" 通用返回结果")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("大部分POST返回结果："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Result"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1：成功")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2：失败")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//3：异常")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Message"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"500"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//当且仅当失败时存在")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Jwt"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"..."')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//有时jwt证书临近过期，此时任意POST会触发更新jwt，返回结果会附上新的jwt")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//因为jwt中保存了language信息，如果用户切换language，POST结果也会收到jwt")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"列表查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列表查询"}},[t._v("#")]),t._v(" 列表查询")]),t._v(" "),s("blockquote",[s("p",[t._v("后端提供了大量的列表查询API，格式统一：")])]),t._v(" "),s("h3",{attrs:{id:"get-xxx-columns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-xxx-columns"}},[t._v("#")]),t._v(" GET /xxx-columns")]),t._v(" "),s("blockquote",[s("p",[t._v("查询【列表的所有column（列名）】")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("参数示例：language=en\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("请求参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("是否必须")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("language")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("语言，仅/public下需要此参数")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否，默认en")])])])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("成功返回："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Result"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Total"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据总数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Columns"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"menu"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//列名")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"菜单"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用于显示至前端，根据language的不同而显示不同的文字")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Reference"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("/"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//后续部分会解释")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Filters"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//适用于该列的筛选")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"管理员"')]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"affman"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"affman"')]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"get-xxx-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-xxx-list"}},[t._v("#")]),t._v(" GET /xxx-list")]),t._v(" "),s("blockquote",[s("p",[t._v("对列表进行分页查询")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("参数示例：language=zh-Hans&timezone=480&filter[scenario]=1*2&filter[class]=1&sort=scenario&asc=false&number=10&page=1&search=hello=full=true\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("请求参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("是否必须")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("language")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("语言，仅/public下需要此参数")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否，默认en")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("timezone")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("时区，单位分钟，仅/public下需要此参数")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否，默认+0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("filter[]")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("列筛选，单列有多个筛选项时用星号（*）隔开")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("sort")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("按某列排序")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("asc")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("排序方向")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否，默认true")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("number")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("页容量")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("是")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("page")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("页码")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("是")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("search")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("关键字查询")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("full")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("完整行，false时仅返回id")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("是")])])])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("full="),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("时成功返回："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Result"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Total"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据总数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Items"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"122"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"122A"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"133b7"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//id数组")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nfull="),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("时成功返回："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Result"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Total"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("122")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据总数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Items"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//根据column返回一个list内容的二维数组")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n            ...\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"get-xxx-pick"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-xxx-pick"}},[t._v("#")]),t._v(" GET /xxx-pick")]),t._v(" "),s("blockquote",[s("p",[t._v("查询指定id")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("参数示例：language=en&timezone=480&ids[]=as3sa&ids[]=4zf23\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("请求参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("是否必须")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("language")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("语言，仅/public下需要此参数")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否，默认en")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("timezone")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("时区，单位分钟，仅/public下需要此参数")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否，默认+0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("ids[]")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("想要查询的id数组")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("是")])])])]),t._v(" "),s("p",[t._v("返回结构与分页查询/xxx-list的full=true返回结构相同")]),t._v(" "),s("h3",{attrs:{id:"reference用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reference用法"}},[t._v("#")]),t._v(" reference用法")]),t._v(" "),s("p",[t._v("/xxx-columns中提及到，column有一个reference属性，值为false/true")]),t._v(" "),s("p",[t._v("值为false时，说明list返回的就是很直白的数据")]),t._v(" "),s("p",[t._v("比如/node-list返回以下数据：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Items"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"中国A"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//节点名，reference:false")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Online"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在线人数，reference:false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("对应生成的列表就是：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("节点名")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("在线人数")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("中国A")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2")])])])]),t._v(" "),s("p",[t._v("当值为true时，说明这个column涉及另一张表")]),t._v(" "),s("p",[t._v("比如/order-columns返回以下数据：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Total"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//数据总数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Columns"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"订单时间"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Reference"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里为false，则什么都不用管")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"menu"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"菜单"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Reference"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里为true，说明一定存在/menu列表查询和精确查询")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("reference为true的column，返回的内容是一个id")]),t._v(" "),s("p",[t._v("接上例，/order-list返回以下数据：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Items"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-01-01 01:00:00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//name，reference:false")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"54f7gh"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//menu，reference:true，这里返回的是一个menu的id")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-01-02 02:00:00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"74ngx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("reference的显示方法相当自由，可以显示一串字符串：")]),t._v(" "),s("p",[t._v("（因为reference为true，所以一定存在/menu列表查询和精确查询）")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("订单时间")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("菜单")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2019-01-01 01:00:00")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("租金：1元 限速：10M 流量价格：1元/G")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2019-01-02 02:00:00")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("租金：2元 限速：20M 流量价格：2元/G")])])])]),t._v(" "),s("p",[t._v("一个超链接：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("订单时间")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("菜单")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2019-01-01 01:00:00")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"http://aaa.com/user/menu/1",target:"_blank",rel:"noopener noreferrer"}},[t._v("菜单1"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2019-01-02 02:00:00")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("a",{attrs:{href:"http://aaa.com/user/menu/2",target:"_blank",rel:"noopener noreferrer"}},[t._v("菜单2"),s("OutboundLink")],1)])])])]),t._v(" "),s("p",[t._v("或者直接什么都不做，直接把id放上去：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("订单时间")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("菜单")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2019-01-01 01:00:00")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("54f7gh")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("2019-01-02 02:00:00")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("74ngx")])])])]),t._v(" "),s("h3",{attrs:{id:"get-xxx-edit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-xxx-edit"}},[t._v("#")]),t._v(" GET /xxx-edit")]),t._v(" "),s("blockquote",[s("p",[t._v("获取xxx的[编辑/新建]页面")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("参数示例：id=6hf76tgk\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("请求参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("是否必须")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("否，如果不存在，则为新建")])])])]),t._v(" "),s("h3",{attrs:{id:"post-xxx-remove"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#post-xxx-remove"}},[t._v("#")]),t._v(" POST /xxx-remove")]),t._v(" "),s("blockquote",[s("p",[t._v("删除列表中的一项或多项")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('参数示例：{\n    "Items":["i776jk","k67g3"]\n}\n')])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("请求参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("是否必须")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("items")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("id数组")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("是")])])])]),t._v(" "),s("h2",{attrs:{id:"jwt内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jwt内容"}},[t._v("#")]),t._v(" JWT内容")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("Claims"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Expiry"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-07-15T03:59:30Z"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//遵循RFC3339且总是UTC时区")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a382jw"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户的id")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Language"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户的语言")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Timezone"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3600")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用户的时区")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"动态编辑框"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态编辑框"}},[t._v("#")]),t._v(" 动态编辑框")]),t._v(" "),s("p",[t._v("动态编辑框用于[列表查询的xxx-edit/config修改]等场合，根据后端返回内容动态生成")]),t._v(" "),s("p",[t._v("编辑框有以下"),s("code",[t._v("type")]),t._v("，并且拥有"),s("code",[t._v("check")]),t._v("检查条件：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("type 种类")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("check 检查条件")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("integer 整数")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("范围区间检查，如：[1,4)U{6,7}，这是一个区间和集合的并集")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("decimal 小数")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("范围区间检查，如：(3.8,6]")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("string （单行）字符串")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("正则表达式检查")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("text （多行）文本")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("正则表达式检查")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("array 下拉菜单")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("可选内容数组，如：admin=管理员&banned=被封禁用户")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("bool 开关")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("值只能为true或false")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("date 日期")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("范围区间检查，如：[2019/03/21,2020/01/01)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("time 时间")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("范围区间检查，如：[2019/03/21 12:12:12,2020/01/01 12:12:12)")])])])]),t._v(" "),s("p",[s("code",[t._v("type")]),t._v("用于告知前端选择合适的编辑框，如：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("array种类通常用下拉菜单显示\nbool种类则用开关控件显示\ninteger、decimal既可以使用普通文字编辑框控件，也可以使用数字控件\ndate既可以使用普通文字编辑控件，也可以使用日历控件\n")])])]),s("p",[s("code",[t._v("check")]),t._v("用于对编辑框输入值的检查，并不强制要求全部实现，甚至最简单粗暴的做法就是：全部使用普通文字编辑框，然后把"),s("code",[t._v("检查")]),t._v("以文字注释的方式标在旁边")]),t._v(" "),s("p",[t._v("使用场景：")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("通过GET /user/admin/user-edit?id=23y66b\n可能收到返回："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Edits"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"邮箱"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//显示普通的文字编辑框")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Check"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[^@]+@[^\\.]+\\..+"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//一个简易的email检查")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx@yy.com"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这个文字编辑框的当前值")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"角色"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"array"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Check"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin=管理员&banned=被封禁用户&common=普通用户"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//前端显示一个下拉菜单，文字分别是“管理员”、“被封禁用户”、“普通用户”")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"common"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这个用户是一个普通用户，所以默认选择common")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        ...    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//其他编辑项")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n通过POST /user/admin/user-update\n对值进行更新："),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"23y66b"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Updates"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Value"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("/admin/config-edit也使用此类返回")])])}),[],!1,null,null,null);a.default=n.exports}}]);