<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>用户端（前端/客户端） | Skim Book</title>
    <meta name="description" content="Just playing around">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.bf8bddd1.css" as="style"><link rel="preload" href="/assets/js/app.bfdc7a43.js" as="script"><link rel="preload" href="/assets/js/2.67bc7483.js" as="script"><link rel="preload" href="/assets/js/14.3ea2e356.js" as="script"><link rel="prefetch" href="/assets/js/10.e3477a0d.js"><link rel="prefetch" href="/assets/js/11.31f62871.js"><link rel="prefetch" href="/assets/js/12.88564199.js"><link rel="prefetch" href="/assets/js/13.48188c55.js"><link rel="prefetch" href="/assets/js/15.5a3889ed.js"><link rel="prefetch" href="/assets/js/16.87da21a6.js"><link rel="prefetch" href="/assets/js/17.73b12ce0.js"><link rel="prefetch" href="/assets/js/18.2c548e3a.js"><link rel="prefetch" href="/assets/js/19.43993f02.js"><link rel="prefetch" href="/assets/js/20.c60f2e21.js"><link rel="prefetch" href="/assets/js/21.1cc1b4af.js"><link rel="prefetch" href="/assets/js/3.b92b6370.js"><link rel="prefetch" href="/assets/js/4.f03b7f8e.js"><link rel="prefetch" href="/assets/js/5.6e58d8aa.js"><link rel="prefetch" href="/assets/js/6.27fcbdd1.js"><link rel="prefetch" href="/assets/js/7.f131726d.js"><link rel="prefetch" href="/assets/js/8.2a3eb77d.js"><link rel="prefetch" href="/assets/js/9.9b0050ff.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bf8bddd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Skim Book</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">首页</a></li><li><a href="/design.html" class="sidebar-link">设计</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/userend/" class="sidebar-heading clickable router-link-exact-active router-link-active active"><span>用户端（前端/客户端）</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/nodeend/" class="sidebar-heading clickable"><span>节点端</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/deploy.html" class="sidebar-link">部署</a></li><li><a href="/reference.html" class="sidebar-link">开源引用（后端）</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="用户端（前端-客户端）"><a href="#用户端（前端-客户端）" class="header-anchor">#</a> 用户端（前端/客户端）</h1> <h2 id="通用返回结果"><a href="#通用返回结果" class="header-anchor">#</a> 通用返回结果</h2> <div class="language-json extra-class"><pre class="language-json"><code>大部分POST返回结果：<span class="token punctuation">{</span>
    <span class="token property">&quot;Result&quot;</span><span class="token operator">:</span><span class="token number">1</span>/<span class="token number">2</span>/<span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token comment">//1：成功</span>
    <span class="token comment">//2：失败</span>
    <span class="token comment">//3：异常</span>
    <span class="token property">&quot;Message&quot;</span><span class="token operator">:</span><span class="token string">&quot;500&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//当且仅当失败时存在</span>
    <span class="token property">&quot;Jwt&quot;</span><span class="token operator">:</span><span class="token string">&quot;...&quot;</span>
    <span class="token comment">//有时jwt证书临近过期，此时任意POST会触发更新jwt，返回结果会附上新的jwt</span>
    <span class="token comment">//因为jwt中保存了language信息，如果用户切换language，POST结果也会收到jwt</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="列表查询"><a href="#列表查询" class="header-anchor">#</a> 列表查询</h2> <blockquote><p>后端提供了大量的列表查询API，格式统一：</p></blockquote> <h3 id="get-xxx-columns"><a href="#get-xxx-columns" class="header-anchor">#</a> GET /xxx-columns</h3> <blockquote><p>查询【列表的所有column（列名）】</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>参数示例：language=en
</code></pre></div><table><thead><tr><th style="text-align:left;">请求参数</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">是否必须</th></tr></thead> <tbody><tr><td style="text-align:left;">language</td> <td style="text-align:left;">语言，仅/public下需要此参数</td> <td style="text-align:left;">否，默认en</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code>成功返回：<span class="token punctuation">{</span>
    <span class="token property">&quot;Result&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Total&quot;</span><span class="token operator">:</span><span class="token number">122</span><span class="token punctuation">,</span>    <span class="token comment">//数据总数</span>
    <span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;menu&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//列名</span>
            <span class="token property">&quot;Text&quot;</span><span class="token operator">:</span><span class="token string">&quot;菜单&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//用于显示至前端，根据language的不同而显示不同的文字</span>
            <span class="token property">&quot;Reference&quot;</span><span class="token operator">:</span><span class="token string">&quot;false&quot;</span>/<span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//后续部分会解释</span>
            <span class="token property">&quot;Filters&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>    <span class="token comment">//适用于该列的筛选</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;Text&quot;</span><span class="token operator">:</span><span class="token string">&quot;管理员&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token string">&quot;affman&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;Text&quot;</span><span class="token operator">:</span><span class="token string">&quot;affman&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="get-xxx-list"><a href="#get-xxx-list" class="header-anchor">#</a> GET /xxx-list</h3> <blockquote><p>对列表进行分页查询</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>参数示例：language=zh-Hans&amp;timezone=480&amp;filter[scenario]=1*2&amp;filter[class]=1&amp;sort=scenario&amp;asc=false&amp;number=10&amp;page=1&amp;search=hello=full=true
</code></pre></div><table><thead><tr><th style="text-align:left;">请求参数</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">是否必须</th></tr></thead> <tbody><tr><td style="text-align:left;">language</td> <td style="text-align:left;">语言，仅/public下需要此参数</td> <td style="text-align:left;">否，默认en</td></tr> <tr><td style="text-align:left;">timezone</td> <td style="text-align:left;">时区，单位分钟，仅/public下需要此参数</td> <td style="text-align:left;">否，默认+0</td></tr> <tr><td style="text-align:left;">filter[]</td> <td style="text-align:left;">列筛选，单列有多个筛选项时用星号（*）隔开</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">sort</td> <td style="text-align:left;">按某列排序</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">asc</td> <td style="text-align:left;">排序方向</td> <td style="text-align:left;">否，默认true</td></tr> <tr><td style="text-align:left;">number</td> <td style="text-align:left;">页容量</td> <td style="text-align:left;">是</td></tr> <tr><td style="text-align:left;">page</td> <td style="text-align:left;">页码</td> <td style="text-align:left;">是</td></tr> <tr><td style="text-align:left;">search</td> <td style="text-align:left;">关键字查询</td> <td style="text-align:left;">否</td></tr> <tr><td style="text-align:left;">full</td> <td style="text-align:left;">完整行，false时仅返回hash id</td> <td style="text-align:left;">是</td></tr></tbody></table> <div class="language-json extra-class"><pre class="language-json"><code>full=<span class="token boolean">false</span>时成功返回：<span class="token punctuation">{</span>
    <span class="token property">&quot;Result&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Total&quot;</span><span class="token operator">:</span><span class="token number">122</span><span class="token punctuation">,</span>    <span class="token comment">//数据总数</span>
    <span class="token property">&quot;Items&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;3a28ja&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;sadr22&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3af34,4r33&quot;</span><span class="token punctuation">]</span>    <span class="token comment">//hash id数组</span>
<span class="token punctuation">}</span>

full=<span class="token boolean">true</span>时成功返回：<span class="token punctuation">{</span>
    <span class="token property">&quot;Result&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Total&quot;</span><span class="token operator">:</span><span class="token number">122</span><span class="token punctuation">,</span>    <span class="token comment">//数据总数</span>
    <span class="token property">&quot;Items&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>    <span class="token comment">//根据column返回一个list内容的二维数组</span>
        <span class="token punctuation">[</span>
            ...
        <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="get-xxx-pick"><a href="#get-xxx-pick" class="header-anchor">#</a> GET /xxx-pick</h3> <blockquote><p>查询指定hash id</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>参数示例：language=en&amp;timezone=480&amp;hash-ids[]=as3sa&amp;hash-ids[]=4zf23
</code></pre></div><table><thead><tr><th style="text-align:left;">请求参数</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">是否必须</th></tr></thead> <tbody><tr><td style="text-align:left;">language</td> <td style="text-align:left;">语言，仅/public下需要此参数</td> <td style="text-align:left;">否，默认en</td></tr> <tr><td style="text-align:left;">timezone</td> <td style="text-align:left;">时区，单位分钟，仅/public下需要此参数</td> <td style="text-align:left;">否，默认+0</td></tr> <tr><td style="text-align:left;">hash-ids[]</td> <td style="text-align:left;">想要查询的hash id数组</td> <td style="text-align:left;">是</td></tr></tbody></table> <p>返回结构与分页查询/xxx-list的full=true返回结构相同</p> <h3 id="reference用法"><a href="#reference用法" class="header-anchor">#</a> reference用法</h3> <p>/xxx-columns中提及到，column有一个reference属性，值为false/true</p> <p>值为false时，说明list返回的就是很直白的数据</p> <p>比如/node-list返回以下数据：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;Items&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;中国A&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//节点名，reference:false</span>
        <span class="token property">&quot;Online&quot;</span><span class="token operator">:</span><span class="token number">2</span>    <span class="token comment">//在线人数，reference:false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>对应生成的列表就是：</p> <table><thead><tr><th style="text-align:left;">节点名</th> <th style="text-align:left;">在线人数</th></tr></thead> <tbody><tr><td style="text-align:left;">中国A</td> <td style="text-align:left;">2</td></tr></tbody></table> <p>当值为true时，说明这个column涉及另一张表</p> <p>比如/order-columns返回以下数据：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;Total&quot;</span><span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span>    <span class="token comment">//数据总数</span>
<span class="token property">&quot;Columns&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;time&quot;</span>
        <span class="token property">&quot;Text&quot;</span><span class="token operator">:</span><span class="token string">&quot;订单时间&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Reference&quot;</span><span class="token operator">:</span><span class="token string">&quot;false&quot;</span>    <span class="token comment">//这里为false，则什么都不用管</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;menu&quot;</span>
        <span class="token property">&quot;Text&quot;</span><span class="token operator">:</span><span class="token string">&quot;菜单&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Reference&quot;</span><span class="token operator">:</span><span class="token string">&quot;true&quot;</span>    <span class="token comment">//这里为true，说明一定存在/menu列表查询和精确查询</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">]</span>
</code></pre></div><p>reference为true的column，返回的内容是一个hash id</p> <p>接上例，/order-list返回以下数据：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;Items&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token string">&quot;2019-01-01 01:00:00&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//name，reference:false</span>
        <span class="token string">&quot;54f7gh&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//menu，reference:true，这里返回的是一个menu的id</span>
                     <span class="token comment">//id不是数字，而是字符串（hash id）</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token string">&quot;2019-01-02 02:00:00&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;74ngx&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div><p>reference的显示方法相当自由，可以显示一串字符串：</p> <p>（因为reference为true，所以一定存在/menu列表查询和精确查询）</p> <table><thead><tr><th style="text-align:left;">订单时间</th> <th style="text-align:left;">菜单</th></tr></thead> <tbody><tr><td style="text-align:left;">2019-01-01 01:00:00</td> <td style="text-align:left;">租金：1元 限速：10M 流量价格：1元/G</td></tr> <tr><td style="text-align:left;">2019-01-02 02:00:00</td> <td style="text-align:left;">租金：2元 限速：20M 流量价格：2元/G</td></tr></tbody></table> <p>一个超链接：</p> <table><thead><tr><th style="text-align:left;">订单时间</th> <th style="text-align:left;">菜单</th></tr></thead> <tbody><tr><td style="text-align:left;">2019-01-01 01:00:00</td> <td style="text-align:left;"><a href="http://aaa.com/user/menu/1" target="_blank" rel="noopener noreferrer">菜单1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr> <tr><td style="text-align:left;">2019-01-02 02:00:00</td> <td style="text-align:left;"><a href="http://aaa.com/user/menu/2" target="_blank" rel="noopener noreferrer">菜单2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></td></tr></tbody></table> <p>或者直接什么都不做，直接把hash id放上去：</p> <table><thead><tr><th style="text-align:left;">订单时间</th> <th style="text-align:left;">菜单</th></tr></thead> <tbody><tr><td style="text-align:left;">2019-01-01 01:00:00</td> <td style="text-align:left;">54f7gh</td></tr> <tr><td style="text-align:left;">2019-01-02 02:00:00</td> <td style="text-align:left;">74ngx</td></tr></tbody></table> <h3 id="get-xxx-edit"><a href="#get-xxx-edit" class="header-anchor">#</a> GET /xxx-edit</h3> <blockquote><p>获取xxx的[编辑/新建]页面</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>参数示例：hash-id=6hf76tgk
</code></pre></div><table><thead><tr><th style="text-align:left;">请求参数</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">是否必须</th></tr></thead> <tbody><tr><td style="text-align:left;">hash-id</td> <td style="text-align:left;">hash id</td> <td style="text-align:left;">否，如果不存在，则为新建</td></tr></tbody></table> <h3 id="post-xxx-remove"><a href="#post-xxx-remove" class="header-anchor">#</a> POST /xxx-remove</h3> <blockquote><p>删除列表中的一项或多项</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>参数示例：{
    &quot;Items&quot;:[&quot;i776jk&quot;,&quot;k67g3&quot;]
}
</code></pre></div><table><thead><tr><th style="text-align:left;">请求参数</th> <th style="text-align:left;">说明</th> <th style="text-align:left;">是否必须</th></tr></thead> <tbody><tr><td style="text-align:left;">Items</td> <td style="text-align:left;">hash id数组</td> <td style="text-align:left;">是</td></tr></tbody></table> <h2 id="jwt内容"><a href="#jwt内容" class="header-anchor">#</a> JWT内容</h2> <div class="language-json extra-class"><pre class="language-json"><code>Claims<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;Expiry&quot;</span><span class="token operator">:</span><span class="token string">&quot;2019-07-15T03:59:30Z&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//遵循RFC3339且总是UTC时区</span>
    <span class="token property">&quot;HashId&quot;</span><span class="token operator">:</span><span class="token string">&quot;a382jw&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//用户的hash id</span>
    <span class="token property">&quot;Language&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>    <span class="token comment">//用户的语言</span>
    <span class="token property">&quot;Timezone&quot;</span><span class="token operator">:</span><span class="token number">3600</span>    <span class="token comment">//用户的时区</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="动态编辑框"><a href="#动态编辑框" class="header-anchor">#</a> 动态编辑框</h2> <p>动态编辑框用于[列表查询的xxx-edit/config修改]等场合，根据后端返回内容动态生成</p> <p>编辑框有以下<code>type</code>，并且拥有<code>check</code>检查条件：</p> <table><thead><tr><th style="text-align:left;">type 种类</th> <th style="text-align:left;">check 检查条件</th></tr></thead> <tbody><tr><td style="text-align:left;">integer 整数</td> <td style="text-align:left;">范围区间检查，如：[1,4)U{6,7}，这是一个区间和集合的并集</td></tr> <tr><td style="text-align:left;">decimal 小数</td> <td style="text-align:left;">范围区间检查，如：(3.8,6]</td></tr> <tr><td style="text-align:left;">string （单行）字符串</td> <td style="text-align:left;">正则表达式检查</td></tr> <tr><td style="text-align:left;">text （多行）文本</td> <td style="text-align:left;">正则表达式检查</td></tr> <tr><td style="text-align:left;">array 下拉菜单</td> <td style="text-align:left;">可选内容数组，如：admin=管理员&amp;banned=被封禁用户</td></tr> <tr><td style="text-align:left;">bool 开关</td> <td style="text-align:left;">值只能为true或false</td></tr> <tr><td style="text-align:left;">date 日期</td> <td style="text-align:left;">范围区间检查，如：[2019/03/21,2020/01/01)</td></tr> <tr><td style="text-align:left;">time 时间</td> <td style="text-align:left;">范围区间检查，如：[2019/03/21 12:12:12,2020/01/01 12:12:12)</td></tr></tbody></table> <p><code>type</code>用于告知前端选择合适的编辑框，如：</p> <div class="language- extra-class"><pre class="language-text"><code>array种类通常用下拉菜单显示
bool种类则用开关控件显示
integer、decimal既可以使用普通文字编辑框控件，也可以使用数字控件
date既可以使用普通文字编辑控件，也可以使用日历控件
</code></pre></div><p><code>check</code>用于对编辑框输入值的检查，并不强制要求全部实现，甚至最简单粗暴的做法就是：全部使用普通文字编辑框，然后把<code>检查</code>以文字注释的方式标在旁边</p> <p>使用场景：</p> <div class="language-json extra-class"><pre class="language-json"><code>通过GET /user/admin/user-edit?hashId=<span class="token number">23</span>y<span class="token number">66</span>b
可能收到返回：<span class="token punctuation">{</span>
    <span class="token property">&quot;Edits&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Text&quot;</span><span class="token operator">:</span><span class="token string">&quot;邮箱&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//显示普通的文字编辑框</span>
            <span class="token property">&quot;Check&quot;</span><span class="token operator">:</span><span class="token string">&quot;[^@]+@[^\.]+\..+&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//一个简易的email检查</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token string">&quot;xxx@yy.com&quot;</span>    <span class="token comment">//这个文字编辑框的当前值</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;role&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Text&quot;</span><span class="token operator">:</span><span class="token string">&quot;角色&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Type&quot;</span><span class="token operator">:</span><span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Check&quot;</span><span class="token operator">:</span><span class="token string">&quot;admin=管理员&amp;banned=被封禁用户&amp;common=普通用户&quot;</span><span class="token punctuation">,</span>
            <span class="token comment">//前端显示一个下拉菜单，文字分别是“管理员”、“被封禁用户”、“普通用户”</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token string">&quot;common&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//这个用户是一个普通用户，所以默认选择common</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        ...    <span class="token comment">//其他编辑项</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

通过POST /user/admin/user-update
对值进行更新：<span class="token punctuation">{</span>
    <span class="token property">&quot;HashId&quot;</span><span class="token operator">:</span><span class="token string">&quot;23y66b&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Updates&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span><span class="token string">&quot;role&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token string">&quot;admin&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>/admin/config-edit也使用此类返回</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.bfdc7a43.js" defer></script><script src="/assets/js/2.67bc7483.js" defer></script><script src="/assets/js/14.3ea2e356.js" defer></script>
  </body>
</html>
